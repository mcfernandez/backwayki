<div class="row">
    <div class="col-lg-6 kt-margin-bottom-20-mobile" *ngIf="show">
        <kt-portlet>
            <kt-portlet-header [title]="'Reservas'" [class]="'card-head-lg'">
            </kt-portlet-header>
            <kt-portlet-body>
                <div class="mat-table__wrapper">
                    <mat-table class="lmat-elevation-z8" #table [dataSource]="dataSource" matSort #sort1="matSort" matSortActive="createdon" matSortDirection="desc" matSortDisableClear>
                        <ng-container matColumnDef="tourname">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Tour</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.tourname }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="contactname">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Contacto</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.contactname }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="tourtypename">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Tipo</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.tourtypename }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="startdate">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>F.Inicio</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ ConvertDate(listpagination.startdate, false) }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="actions">
                            <mat-header-cell *matHeaderCellDef>Acción</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">
                                <button mat-icon-button type="button" color="primary" matTooltip="Asignar" (click)="setBooking(listpagination.id)">
                                    <mat-icon>face</mat-icon>
                                </button>
                            </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
                        <ng-template [ngIf]="dataSource.data.length === 0">
                            <tr mat-footer-row *matFooterRowDef="['noRecord']"></tr>
                        </ng-template>
                        <ng-container matColumnDef="noRecord">
                            <td colspan="5" style="padding-top: 17px;" mat-footer-cell *matFooterCellDef>No existen reservas</td>
                        </ng-container>
                    </mat-table>
                </div>
            </kt-portlet-body>
        </kt-portlet>
    </div>
    <div class="col-lg-6 kt-margin-bottom-20-mobile" *ngIf="show">
        <kt-portlet>
            <kt-portlet-header [title]="'Incidencias'" [class]="'card-head-lg'">
            </kt-portlet-header>
            <kt-portlet-body>
                <div class="mat-table__wrapper">
                    <mat-table class="lmat-elevation-z8" #table2 [dataSource]="dataIncident" matSort #sort2="matSort" matSortActive="id" matSortDirection="asc" matSortDisableClear>
                        <ng-container matColumnDef="name">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Incidencia</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.name }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="clientname">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Cliente</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.clientname }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="bookingname">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Reserva</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.bookingname }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="createdon">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">{{ listpagination.createdon | date:'dd/MM/yyyy HH:mm:ss' }}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="actions">
                            <mat-header-cell *matHeaderCellDef>Acción</mat-header-cell>
                            <mat-cell *matCellDef="let listpagination">
                                <button mat-icon-button type="button" color="primary" matTooltip="Asignar" (click)="setIncident(listpagination.id)">
                                    <mat-icon>face</mat-icon>
                                </button>
                            </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="columnsIncident"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: columnsIncident"></mat-row>
                        <ng-template [ngIf]="dataSource.data.length === 0">
                            <tr mat-footer-row *matFooterRowDef="['noRecord']"></tr>
                        </ng-template>
                        <ng-container matColumnDef="noRecord">
                            <td colspan="5" style="padding-top: 17px;" mat-footer-cell *matFooterCellDef>No existen incidencias</td>
                        </ng-container>
                    </mat-table>
                </div>
            </kt-portlet-body>
        </kt-portlet>
    </div>
</div>